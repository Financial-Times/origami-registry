{% extends "page.html" %}

{% block content %}
<!-- Component ID: {{component_id}}, version ID: {{id}} -->
<div class="o-techdocs-content">
	<div class="grid-row">
		<nav class="component-side-nav">
			<div class="o-forms-group">
				<label for="module-search" class="hide-me">Seach modules</label>
				<input type="text" class="o-forms-text" id="module-search" placeholder="Type to filter by name">
			</div>

			<ul class="component-navigation">
				<li class="component-navigation__group">
					<h3 class="component-navigation__title">Primitives</h3>
					<ul class="component-navigation__list">
						<li class="component-navigation__item"><a href="/components/o-colors">o-colors</a></li>
						<li class="component-navigation__item"><a href="/components/o-fonts">o-fonts</a></li>
						<li class="component-navigation__item"><a href="/components/o-grid">o-grid</a></li>
						<li class="component-navigation__item"><a href="/components/o-typography">o-typography</a></li>
						<li class="component-navigation__item"><a href="/components/o-icons">o-icons</a></li>
					</ul>
				</li>
				<li class="component-navigation__group">
					<h3 class="component-navigation__title">Components</h3>
					<ul class="component-navigation__list">
						<li class="component-navigation__item"><a href="/components/o-big-number">o-big-number</a></li>
						<li class="component-navigation__item"><a href="/components/o-buttons">o-buttons</a></li>
						<li class="component-navigation__item"><a href="/components/o-card">o-card</a></li>
						<li class="component-navigation__item"><a href="/components/o-gallery">o-gallery</a></li>
						<li class="component-navigation__item"><a href="/components/o-header">o-header</a></li>
						<li class="component-navigation__item"><a href="/components/o-labels">o-labels</a></li>
						<li class="component-navigation__item"><a href="/components/o-overlay">o-overlay</a></li>
						<li class="component-navigation__item"><a href="/components/o-tabs">o-tabs</a></li>
						<li class="component-navigation__item"><a href="/components/o-tables">o-tables</a></li>
					</ul>
				</li>
				<li class="component-navigation__group">
					<h3 class="component-navigation__title">Helpers</h3>
					<ul class="component-navigation__list">
						<li class="component-navigation__item"><a href="/components/o-date">o-date</a></li>
						<li class="component-navigation__item"><a href="/components/o-errors">o-errors</a></li>
					</ul>
				</li>
			</ul>
		</nav>

		<div class="component-main">
			<h1 class="component-header">{{module_name}}</h1>

			<a href="{{repo_home_url}}" class="o-buttons o-buttons--big github-button"><i class="fa fa-github"></i>View on Github</a>

			{% if not is_stable %}
				<div data-o-grid-colspan="12" class='o-techdocs-content'>
					<aside class='unstable-warning'>
						<h4>Warning: this version is unstable</h4>
						<p>This is an unstable pre-release of an upcoming version of this component.  Its API may be subject to breaking changes.</p>
					</aside>
				</div>
			{% endif %}

			<div class="component-description">
				<p>{{description}}</p>
			</div>

			{% if demos %}
				<section class="detail-section" id="section-demos">
					{% for demo in demos %}
						<div class="">
							<div class="">
								<span class="demo-title activity">{{ demo.name }}</span>
								{% if demo.description %}<div class="demo-subtitle">{{ demo.description }}</div>{% endif %}
							</div>

							<ul data-o-component="o-tabs" class="o-tabs o-tabs--alignright o-tabs--buttontabs" role="tablist">
								<li role="tab" aria-selected="true"><a href="#demo-{{ demo.name|slugify}}">Demo</a></li>
								<li role="tab"><a href="#code-{{ demo.name|slugify}}">HTML</a></li>
								<li role="tab"><a href="#embed-{{ demo.name|slugify}}">Embed</a></li>
							</ul>
							<div id="demo-{{ demo.name|slugify}}" class="o-tabs__tabpanel">
								<div class="demo-frame-container">
									<iframe src="https://{{ SERVER.BUILD_SERVICE_HOST }}/v2/demos/{{module_name}}@{{tag_name}}/{{demo.name}}" class="demo-frame" allowTransparency="true" scrolling="no"></iframe>
								</div>
							</div>
							<div id="code-{{ demo.name|slugify}}" class="o-tabs__tabpanel">
								<div class="demo-source-container">
									<pre class="demo-source" data-src="/components/{{module_name}}@{{tag_name}}/demos/code/{{demo.name}}"></pre>
								</div>
							</div>
							<div id="embed-{{ demo.name|slugify}}" class="o-tabs__tabpanel">
								<h3>Tab content 3</h3>
								<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nostrum, ipsum.</p>
							</div>


							<!-- {% if force_old_demo_url %}
							<div class="demo-frame-container">
								<iframe src="https://{{ SERVER.BUILD_SERVICE_HOST }}/files/{{module_name}}@{{tag_name}}/{{demo.path}}" class="demo-frame" allowTransparency="true" scrolling="no"></iframe>
							</div>
							{% else %}


							{% endif %} -->
						</div>
					{% endfor %}
				</section>
			{% endif %}
		</div>

		<div class="component-info">
			{% if origami_type == 'service' %}
				<section class="detail-section" id="section-usage">
					<h2>Use the service</h2>
					<p><a href="{{service_url}}" class="btn btn-lg btn-primary active"><i class="glyphicon glyphicon-circle-arrow-right"></i> Load service</a> &nbsp; (services host their own documentation)</p>
				</section>
			{% endif %}

			{% if origami_type == 'module' and (has_js or has_css) %}
			<section class="detail-section" id="section-usage">
				<h2>Quick start</h2>

				<div id="quickstart-bs">
					<h3>Using the build service</h3>

					<p>Add the following token to your <a href="http://origami.ft.com/docs/developer-guide/build-service">build service</a>
					{% if has_js and has_css %}<code>script</code> and <code>link</code> tags
					{% elseif has_js %}<code>script</code> tag
					{% elseif has_css %}<code>link</code> tag{% endif %}
					(<a href="#note-buildservice-setup">how do I do that?</a>):</p>
					<pre><code>{{module_name}}@^{{tag_name}}</code></pre>
					<aside class="o-techdocs__aside--toggleable" id="note-buildservice-setup">
						<h4>Loading assets using the build service</h4>
						<p>The Origami build service is designed to efficiently bundle JavaScript and CSS resources and deliver them into your page.  To make best use of this, you should have <strong>only one</strong> (Origami related) <code>&lt;script&gt;</code> and one <code>&lt;link&gt;</code> tag in your page, even if you want to load more than one component.  You can request all the components you want in a single request, like this:</p>
						<pre><code class="lang-html">&lt;link rel="stylesheet" href="https://build.origami.ft.com/v2/bundles/css?modules=module@version,module@version,module@version" />
		&lt;script src="https://build.origami.ft.com/v2/bundles/js?modules=module@version,module@version,module@version">&lt;/script></code></pre>
						<p>Read the <a href="http://origami.ft.com/docs/developer-guide/using-modules/#core-vs-enhanced-experience">developer guide</a> for information on where to place these tags in your source code (if in a hurry: link goes in <code>&lt;head&gt;</code>, script goes just before <code>&lt;/body&gt;</code>), and how to use a <em>cuts the mustard</em> test to make the script load only in browsers that are compatible with our enhanced experience.</p>
						<p>Regardless of whether your site is loaded over HTTP or HTTPS, we recommend using HTTPS to load Origami resources.</p>
						<p>For full build service options see the <a href="http://origami.ft.com/docs/developer-guide/build-service/#api-reference">build service API docs</a></p>
					</aside>
				</div>

				<div id="quickstart-manual">
					<h3>Using a manual build process</h3>

					<p>Add this dependency to your <code>bower.json</code> file during <strong>step 4</strong> of the <a href="http://origami.ft.com/docs/developer-guide/building-modules/">standard Origami build process</a>:</p>
					<pre><code class="lang-json">"{{module_name}}": "^{{tag_name}}"</code></pre>
				</div>
				<p>The tag includes <code>^</code> which enables <em>automatic upgrades</em> via <a href="http://semver.org">Semver</a>.  Use the <a href='http://semver.npmjs.com/'>semver calculator</a> to see what versions are covered by your tag.</p>
			</section>
			{% endif %}

			<section class="detail-section" id="section-info">
				<h2>Component information</h2>
				<div class="o-grid-row o-grid-row--compact">
					<div data-o-grid-colspan="12 S6">
						<div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">Latest stable version</div>
							<div class="val" data-o-grid-colspan="12 M8"><span class="version-number">{{latest_stable_version}}</span> ({{latest_stable_datetime_created|timediff}} old)</div>
						</div>
						<div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">This version</div>
							<div class="val" data-o-grid-colspan="12 M8"><span class="version-number">{{tag_name}}</span> ({{datetime_created|timediff}} old)</div>
						</div>

						<div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">Support status (<a href="http://origami.ft.com/docs/syntax/origamijson/">Learn more</a>)</div>
							<div class="val" data-o-grid-colspan="12 M8"><span class="label-{{support_status|slugify}}">{{support_status|capitalize}}</span> (as of <span class="version-number">{{support_status_version}}</span>)</div>
						</div>
						<div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">Report issues to</div>
							<div class="val" data-o-grid-colspan="12 M8">{{support|linkify|raw}}</div>
						</div>
						<div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">Installable?</div>
							<div class="val" data-o-grid-colspan="12 M8">
								<span class="label-{% if is_valid %}pass{% endif %}{% if not is_valid %}fail{% endif %}">
									{% if is_valid == 1 %}
										OK
									{% elseif is_valid == 0 %}
										Not installable, fails build tests
									{% else %}
										Unknown
									{% endif %}
									<a style="margin-left: 5px; color: white" href="https://{{ SERVER.BUILD_SERVICE_HOST }}/modules/{{module_name}}@{{tag_name}}" title="View build test results"><i class="fa fa-info-circle"></i></a>
								</span>
							</div>
						</div>
						<!-- <div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">Code repository</div>
							<div class="val" data-o-grid-colspan="12 M8">
								<a href="{{repo_home_url}}">{{repo_home_url}}</a>
							</div>
						</div> -->
						<div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">Last indexed</div>
							<div class="val" data-o-grid-colspan="12 M8">
								{{datetime_last_cached|date('j M Y H:i:s')}} (<a href="/components/{{module_name}}@{{tag_name}}/refresh" class="link-refresh">Build now</a>)
							</div>
						</div>
						{% if origami_type == 'service' %}
							<div class="o-grid-row">
								<div class="key" data-o-grid-colspan="12 M4">Live URL</div>
								<div class="val" data-o-grid-colspan="12 M8">
									<a href="{{service_url}}">{{service_url}}</a>
								</div>
							</div>
						{% else %}
							<div class="o-grid-row">
								<div class="key" data-o-grid-colspan="12 M4">Bundle sizes</div>
								<div class="val" data-o-grid-colspan="12 M8">
									{% if bundlesize_js %}
										<div class='bundlesize_js'>{{bundlesize_js|bytes}} JavaScript</div>
									{% endif %}
									{% if bundlesize_css %}
										<div class='bundlesize_css'>{{bundlesize_css|bytes}} CSS</div>
									{% endif %}
								</div>
							</div>
						{% endif %}
					</div>
					<div data-o-grid-colspan="12 S6">
						<div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">Dependencies</div>
							<div class="val" data-o-grid-colspan="12 M8">
								{% if not dependencies %}
									<span style="color:#bbb">None</span>
								{% endif %}
								{% if dependencies %}
								<table class='dependency-list'>
									{% for dependency in dependencies %}
									<tr>
										<td>{% if dependency.id %}<a href="/components/{{dependency.child_component_name}}">{% endif %}{{dependency.child_component_name}}{% if dependency.id %}</a>{% endif %}</td>
										<td><span class='version-number'>{{dependency.child_component_target}}</span></td>
										<td>
											{% if dependency.uptodate %}
											<span title='The latest version of the dependency can be used' class='label-active'>OK</span>
											{% else %}
											<span title='Forced by this constraint to use an older version of the dependency' class='label-experimental'>Out of date</span>
											{% endif %}
										</td>
										<td><span title='Latest available version of the dependency' class='version-number'>{{dependency.latest}}</span></td>
									</tr>
									{% endfor %}
								</table>
								{% endif %}
							</div>
						</div>
						<div class="o-grid-row">
							<div class="key" data-o-grid-colspan="12 M4">Dependents</div>
							<div class="val" data-o-grid-colspan="12 M8">
								{% if not dependents %}
									<span style="color: #bbb">None</span>
								{% endif %}
		<!-- No indentation, to ensure there's no space in between items: -->
		{% for dependent in dependents %}<span class="detail-modulelist__item">{% if dependent.id %}<a href="/components/{{dependent.module_name}}">{% endif %}{{dependent.module_name}}{% if dependent.id %}</a>{% endif %}</span>{% endfor %}
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>

	<!-- {% if docs_sections %}
	<section class="detail-section" id="section-docs">
		{% if docs_sections > 1 %}
		<p class="pills pills--float" data-tabs="docs">
			{% if readme_gfm %}<a href="#docs-readme">README</a>{% endif %}
			{% if has_css %}<a href="#docs-css">Sass reference</a>{% endif %}
			{% if has_js %}<a href="#docs-js">JavaScript reference</a>{% endif %}
		</p>
		{% endif %}
		<h2>Documentation</h2>
		{% if readme_gfm %}
		<div id="docs-readme" class="docs-content o-techdocs-content">
			{{readme_gfm|markdown|raw}}
		</div>
		{% endif %}
		{% if has_css %}
		<iframe id="docs-css" style="min-height: 400px" class="docs-content docs-content--frame" src="http://codedocs.webservices.ft.com/v1/sassdoc/{{module_name}}@{{tag_name}}" allowTransparency="true" scrolling="no"></iframe>
		{% endif %}
		{% if has_js %}
		<iframe id="docs-js" class="docs-content docs-content--frame" src="http://codedocs.webservices.ft.com/v1/jsdoc/{{module_name}}@{{tag_name}}" allowTransparency="true" scrolling="no"></iframe>
		{% endif %}
	</section>
	{% endif %} -->
{% endblock %}
